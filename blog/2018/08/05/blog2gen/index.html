<!doctype html><html prefix="og: https://ogp.me/ns#"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preload href=https://kakudokentaro.com/assets/fonts/Inter-SemiBold.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://kakudokentaro.com/assets/fonts/Inter-Regular.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=https://kakudokentaro.com/assets/css/null-2.4.css><link rel=stylesheet href=https://kakudokentaro.com/assets/css/common.css><link rel="shortcut icon" href=https://kakudokentaro.com/assets/favicon.svg type=image/svg+xml><link rel=stylesheet href=https://kakudokentaro.com/assets/css/document.css><link rel=stylesheet href=https://kakudokentaro.com/assets/css/single.css><title>二代目のブログができました - Kakudo Kentaro</title><meta property="og:title" content="二代目のブログができました - Kakudo Kentaro"><meta property="og:type" content="website"><meta property="og:image" content="https://kakudokentaro.com/assets/icon.png"><meta property="og:url" content="https://kakudokentaro.com/blog/2018/08/05/blog2gen/"></head><body><header><div class=inner><h1><a href=https://kakudokentaro.com/>Kakudo Kentaro</a></h1><a href=https://kakudokentaro.com/blog/>Blog</a>
<a href=https://kakudokentaro.com/about/>About</a></div></header><main><div class=inner><h1>二代目のブログができました</h1><time datetime=2018-08-05>2018-08-05 00:00</time><p class=warn><strong>この記事は以前のブログから引っ越してきたものです！</strong><br><a href=https://github.com/kakudo415/blog>以前のブログのGitHubリポジトリ</a></p><p>今回は新しく作ったブログシステムの紹介です<br><a href=https://dev.to>dev.to</a>を参考に高速化に全振りしてます</p><h2 id=インラインcss>インラインCSS</h2><p>凝ったCSSを使わず、さらにHTMLに直接埋め込むことで１ファイルの転送をしています<br>HTMLの構造化した文書という作法においてはよくないかもしれませんが、早くなるはず・・</p><h2 id=javascriptの遅延読み込み>JavaScriptの遅延読み込み</h2><pre tabindex=0><code>&lt;script src=&#34;hogehoge&#34; defer=&#34;defer&#34;&gt;
</code></pre><p>上のようにすることでJavaScriptを遅延読み込みすることができます<br>これによりページ読み込み時にJavaScriptを実行しないので、ファーストビュー表示が早くなります<br>ページ読み込み時に呼ばれなかったJavaScriptはページレンダリングが終わってから読み込まれます</p><h2 id=そもそも要らないものは読み込まない>そもそも要らないものは読み込まない</h2><p>PureJSを使い、ライブラリなどに依存しないことで、外部ライブラリの読み込み時間を無くせる<br>「シンタックスハイライトくらいはあってもいいかな」とも思う（読み込むとしても<strong>defer</strong>するけど）</p><h2 id=クリック先読みinstantclick>クリック先読み（InstantClick）</h2><p><a href=https://dev.to>dev.to</a>でも採用されているクリックではなくマウスオンした時点でAjaxを使いGETする仕組み<br>そしてクリック時にはすでに取得してあるデータを使ってHTMLを差し替えるだけなのでユーザーに遅延を感じさせにくい<br>なお導入方法がわからなかったので自分で書くはめになった（かなり時間がかかった）<br>なおブラウザ、マウスなどの進む戻るボタンには<strong>未対応</strong>なので早急に対応します（現状リロードで対処してます(´・ω・`)）</p><h2 id=markdownでの執筆>Markdownでの執筆</h2><p>今回のブログはMarkdownで書けるようになっています<br>以前はHTMLファイルをコマンドラインでデータベースに入れる形式だったので、かなりモチベーションに影響しましたが、今回はよく書ける・・はず<br>GoでのMD HTML変換には、<a href=https://github.com/russross/blackfriday>blackfriday</a>を使用しました</p><h2 id=最後に>最後に</h2><p>結局は本番環境（ConoHa VPS + nginx）で動かしてみないとわからないので
環境に合わせて調整して瞬きを追い抜くサイトを目指したいと思います</p><section class=share><div>Share on</div><a href="https://twitter.com/intent/tweet?text=%e4%ba%8c%e4%bb%a3%e7%9b%ae%e3%81%ae%e3%83%96%e3%83%ad%e3%82%b0%e3%81%8c%e3%81%a7%e3%81%8d%e3%81%be%e3%81%97%e3%81%9f - Kakudo%20Kentaro&url=https%3a%2f%2fkakudokentaro.com%2fblog%2f2018%2f08%2f05%2fblog2gen%2f" rel="nofollow noopener noreferrer" target=_blank>Twitter</a></section></div></main></body></html>